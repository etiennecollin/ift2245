single:
  weight: 1
  in:
    - "echo a\n"
    - "bloop\n"
    - "echo \\\"a b c\\\"\n"
    - "echo \\\"a\\\\nb\\\\nc\\\"\n"
  out:
    - "a"
    - "bloop: command not found"
    - "a b c"
    - "a\nb\nc"
separator:
  weight: 1
  in:
    - "echo a ; echo b\n"
    - "echo aa; echo bb; echo cc\n"
  out:
    - "a\nb"
    - "aa\nbb\ncc"
and:
  weight: 1
  in:
    - "echo a && echo b\n"
    - "toto && echo b\n"
    - "echo a&&toto\n"
    - ""
  out:
    - "a\nb"
    - "toto: command not found"
    - "a\ntoto: command not found"
or:
  weight: 1
  in:
    - "echo a || echo b\n"
    - "toto || echo b\n"
    - "echo a||toto\n"
  out:
    - "a"
    - "toto: command not found\nb"
    - "a"
pipe:
  weight: 1
  in:
      - "echo a | cat\n"
      - "echo \\\"hello sir\\\" | cat | cat\n"
      - "echo \\\"a b c\\\" | wc -l\n"
      - "echo \\\"a\\\\nb\\\\nc\\\" | wc -l\n"
  out:
      - "a"
      - "hello sir"
      - "1"
      - "3"
pathological:
  weight: 1
  in:
      - "echo a && echo b || echo c && echo d\n"
      - "echo a || echo b && echo c || echo d\n"
      - "echo worked || echo fallback | cat\n"
      - "doesnotwork || echo fallback | cat\n"
      - "echo a && echo b | cat | cat && echo c\n"
  out:
      - "a\nb\nd"
      - "a\nc"
      - "worked"
      - "doesnotwork: command not found\nfallback"
      - "a\nb\nc"